import{a as O,d as G,f as K,g as Q,h as U}from"./chunk-NNWML4M6.js";import{$ as D,C as T,D as A,E as P,G as L,T as W,U as j,V as N,Y as z,Z as R,_ as B,aa as F,c as C,ca as V,d as v,da as q,e as l,ea as H,f as d,fa as J,g as E,h as I,i as S,j as n,k as i,l as m,m as M,n as u,o as y,p as a,q as x,r as p,s as h,t as f,u as g,x as k,y as w}from"./chunk-EMOVGO52.js";import"./chunk-RFDXLP2V.js";import"./chunk-G73DXHNZ.js";import"./chunk-HPTYUPYP.js";import"./chunk-DYTZQIFO.js";import"./chunk-JPWSK5QP.js";import"./chunk-5AMHR7P2.js";import"./chunk-4WFVMWDK.js";import"./chunk-JU35B3CI.js";import"./chunk-SJCMXYC3.js";import"./chunk-S3A63TT4.js";import"./chunk-42C7ZIID.js";import{e as b}from"./chunk-JHI3MBHO.js";function Y(s,r){if(s&1){let X=M();n(0,"ion-button",12),u("click",function(){C(X);let o=y();return v(o.excluir())}),m(1,"ion-icon",13),a(2," Excluir Contato "),i()}}var st=(()=>{let r=class r{constructor(t,o,e){this.firebaseService=t,this.router=o,this.route=e,this.contato={nome:"",email:""},this.isEdicao=!1,O({list:G,save:K,trash:Q})}ngOnInit(){return b(this,null,function*(){let t=this.route.snapshot.paramMap.get("id");if(t){this.isEdicao=!0;let o=yield this.firebaseService.obterContato(t);o&&(this.contato=o)}})}salvar(){!this.contato.nome||!this.contato.email||(this.isEdicao?this.firebaseService.editarContato(this.contato).then(()=>{alert("Contato atualizado!"),this.router.navigate(["/listar-contatos"])}).catch(t=>console.error(t)):this.firebaseService.adicionarContato(this.contato).then(()=>{alert("Contato criado!"),this.router.navigate(["/listar-contatos"])}).catch(t=>console.error(t)))}excluir(){this.contato.id&&confirm("Tem certeza que deseja excluir este contato?")&&this.firebaseService.excluirContato(this.contato.id).then(()=>{this.router.navigate(["/listar-contatos"])}).catch(t=>console.error(t))}};r.\u0275fac=function(o){return new(o||r)(d(U),d(A),d(T))},r.\u0275cmp=E({type:r,selectors:[["app-adicionar-contato"]],decls:23,vars:6,consts:[[1,"ion-no-border"],["slot","end","routerLink","/listar-contatos","routerDirection","back",1,"secondary-btn"],["name","list","slot","start"],[1,"ion-padding"],[1,"custom-card"],[1,"card-title"],["position","stacked"],["placeholder","Ex: Jo\xE3o Silva",3,"ngModelChange","ngModel"],["type","email","placeholder","Ex: joao@email.com",3,"ngModelChange","ngModel"],["expand","block",1,"primary-btn",3,"click"],["slot","start","name","save"],["expand","block","class","danger-btn",3,"click",4,"ngIf"],["expand","block",1,"danger-btn",3,"click"],["slot","start","name","trash"]],template:function(o,e){o&1&&(n(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),a(3),i(),n(4,"ion-button",1),m(5,"ion-icon",2),a(6," Lista "),i()()(),n(7,"ion-content",3)(8,"div",4)(9,"h2",5),a(10),i(),n(11,"ion-item")(12,"ion-label",6),a(13,"Nome completo"),i(),n(14,"ion-input",7),g("ngModelChange",function(c){return f(e.contato.nome,c)||(e.contato.nome=c),c}),i()(),n(15,"ion-item")(16,"ion-label",6),a(17,"E-mail"),i(),n(18,"ion-input",8),g("ngModelChange",function(c){return f(e.contato.email,c)||(e.contato.email=c),c}),i()(),n(19,"ion-button",9),u("click",function(){return e.salvar()}),m(20,"ion-icon",10),a(21),i(),I(22,Y,3,0,"ion-button",11),i()()),o&2&&(l(3),x(e.isEdicao?"Editar Contato":"Novo Contato"),l(7),p(" ",e.isEdicao?"Atualizar dados":"Preencha os dados"," "),l(4),h("ngModel",e.contato.nome),l(4),h("ngModel",e.contato.email),l(3),p(" ",e.isEdicao?"Atualizar Contato":"Salvar Contato"," "),l(),S("ngIf",e.isEdicao))},dependencies:[w,k,N,W,j,L,P,R,B,V,q,D,F,J,z,H],encapsulation:2});let s=r;return s})();export{st as AdicionarContatoPage};
